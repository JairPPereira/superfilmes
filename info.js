const apiKey = "fcfe44809de84129fab53e785124bb95";
const movieIds = [
  923939, 1167725, 1151703, 25095, 763820, 860267, 1074034, 818511, 804464, 1115128, 951491, 522526, 977770, 977592, 299054, 507903, 575157, 814776, 945729, 729120, 1130659, 983507, 1146348, 1093349, 1093994, 763261, 962279, 1088812, 1078862, 1072074, 1124624, 968051, 790493, 850871, 1152797, 1072371, 1172009, 820525, 353577, 1113448, 884184, 950071, 1122634, 1018754, 1075969, 1143190, 1073337, 991708, 1158385, 807023, 753601, 844409, 1076487, 532408, 869523, 936952, 885583, 791295, 970284, 977246, 1579, 540914, 983768, 1165111, 977223, 1135229, 1032696, 1126418, 892494, 1088080, 960481, 1121575, 916386, 1026542, 1064912, 823147, 828898, 978783, 760099, 782044, 1159086, 926393, 1150215, 1155458, 1030987, 1074262, 869641, 1126577, 1139819, 999644, 1151344, 830896, 1010826, 976553, 958340, 22538, 745391, 568467, 777245, 547404, 631583, 1146019, 522925, 920654, 1158959, 957445, 1142740, 1064835, 893345, 993867, 1116848, 300667, 1020532, 520720, 647250, 1153222, 829774, 259171, 1149381, 1141202, 63197, 1138603, 10677, 1126543, 1126536, 8645, 87827, 27850, 635910, 457335, 821890, 149, 1131444, 1140056, 565770, 614930, 832502, 1128604, 930094, 980489, 18254, 913673, 834404, 681986, 691422, 391713, 846961, 52451, 615656, 881209, 1082168, 61348, 722778, 2098, 1008042, 2253, 38884, 10756, 496450, 457332, 474392, 841, 38, 1008392, 32873, 376134, 1148969, 12429, 15371, 381289, 21057, 184313, 17445, 636173, 14011, 9655, 736769, 646473, 283378, 10515, 26688, 437109, 30143, 1024535, 1128719, 1059638, 45162, 16859, 835786, 324849, 346698, 785457, 890771, 500854, 805320, 1058647, 1083862, 872585, 11416, 1126844, 953371, 1075335, 177271, 822099, 778814, 1128718, 24982, 614479, 369557, 1149947, 1139162, 747188, 746333, 226486, 587092, 298, 449992, 109491, 402200, 531122, 994468, 1040148, 401104, 980078, 840326, 21188, 163, 1700, 582014, 347626, 733156, 603661, 959558, 11355, 566949, 23566, 
];

function displayRandomMovie() {
  const randomMovieId = movieIds[Math.floor(Math.random() * movieIds.length)];
  const apiUrl = `https://api.themoviedb.org/3/movie/${randomMovieId}?api_key=${apiKey}&language=pt-BR`;

  fetch(apiUrl)
    .then(response => response.json())
    .then(data => {
      const backdropPath = data.backdrop_path;
      const movieTitle = data.title;
      const movieOverview = data.overview;

      const movieBackdrop = document.getElementById("movie-backdrop");
      movieBackdrop.src = `https://image.tmdb.org/t/p/original/${backdropPath}`;

      movieBackdrop.addEventListener("click", () => {
        const iframeUrl = `https://embedder.net/e/${randomMovieId}`;
        window.open(`single-movie3.html?iframeUrl=${encodeURIComponent(iframeUrl)}`, "_blank");
      });

      const movieTitleElement = document.getElementById("movie-title");
      movieTitleElement.textContent = movieTitle;

      const movieOverviewElement = document.getElementById("movie-overview");
      movieOverviewElement.textContent = movieOverview;
    })
    .catch(error => {
      console.error(`Erro ao obter informações do filme ${randomMovieId}: ${error}`);
    });
}

displayRandomMovie();
