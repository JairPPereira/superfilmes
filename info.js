const apiKey = "fcfe44809de84129fab53e785124bb95";
const movieIds = [
  923939, 1167725, 1151703, 25095, 763820, 860267, 1074034, 818511, 804464, 1115128, 951491, 522526, 977770, 977592, 299054, 507903, 575157, 814776, 945729, 729120, 1130659, 983507, 1146348, 1093349, 1093994, 763261, 962279, 1088812, 1078862, 1072074, 1124624, 968051, 790493, 850871, 1152797, 1072371, 1172009, 820525, 353577, 1113448, 884184, 950071, 1122634, 1018754, 1075969, 1143190, 1073337, 991708, 1158385, 807023, 753601, 844409, 1076487, 532408, 869523, 936952, 885583, 791295, 970284, 977246, 1579, 540914, 983768, 1165111, 977223, 1135229, 1032696, 1126418, 892494, 1088080, 960481, 1121575, 916386, 1026542, 1064912, 823147, 828898, 978783, 760099, 782044, 1159086, 926393, 1150215, 1155458, 1030987, 1074262, 869641, 1126577, 1139819, 999644, 1151344, 830896, 1010826, 976553, 958340, 22538, 745391, 568467, 777245, 547404, 631583, 1146019, 522925, 920654, 1158959, 957445, 1142740, 1064835, 893345, 993867, 1116848, 300667, 1020532, 520720, 647250, 1153222, 829774, 259171, 1149381, 1141202, 63197, 1138603, 10677, 1126543, 1126536, 8645, 87827, 27850, 635910, 457335, 821890, 149, 1131444, 1140056, 565770, 614930, 832502, 1128604, 930094, 980489, 18254, 913673, 834404, 681986, 691422, 391713, 846961, 52451, 615656, 881209, 1082168, 61348, 722778, 2098, 1008042, 2253, 38884, 10756, 496450, 457332, 474392, 841, 38, 1008392, 32873, 376134, 1148969, 12429, 15371, 381289, 21057, 184313, 17445, 636173, 14011, 9655, 736769, 646473, 283378, 10515, 26688, 437109, 30143, 1024535, 1128719, 1059638, 45162, 16859, 835786, 324849, 346698, 785457, 890771, 500854, 805320, 1058647, 1083862, 872585, 11416, 1126844, 953371, 1075335, 177271, 822099, 778814, 1128718, 24982, 614479, 369557, 1149947, 1139162, 747188, 746333, 226486, 587092, 298, 449992, 109491, 402200, 531122, 994468, 1040148, 401104, 980078, 840326, 21188, 163, 1700, 582014, 347626, 733156, 603661, 959558, 11355, 566949, 23566, 798286, 242643, 1129956, 308266, 1000146, 1006911, 424121, 585244, 882569, 561717, 1002370, 597890, 513487, 809787, 15359, 9303, 884605, 996518, 733317, 517412, 1586, 301365, 1114901, 1079078, 1107872, 917007, 1061617, 976573, 660000, 758336, 988078, 1128568, 1010581, 335977, 653594, 615658, 685264, 536437, 884535, 218778, 1049638, 961323, 810731, 812225, 868985, 713776, 697843, 869623, 685264, 697843, 1128568, 1010581, 536437, 868985, 758336, 869623, 1061617, 810731, 615658, 1107872, 713776, 653594, 812225, 917007, 660000, 218778, 988078, 976573, 335977, 1049638, 961323, 884535, 8386, 816977, 799546, 667538, 945897, 647003, 797245, 1030613, 532327, 811631, 765869, 931935, 611213, 1119173, 1024621, 950480, 668461, 862553, 323694, 298618, 997023, 569094, 920125, 802119, 607430, 607442, 55680, 447277, 1004294, 1120628, 1029042, 522927, 1041377, 11130, 670429, 508935, 9880, 961427, 994052, 873126, 1025169, 547090, 138038, 500915, 1018648, 943930, 641163, 505904, 142, 740441, 128, 11970, 244063, 8130, 15137, 10494, 11132, 251, 4380, 23169, 65218, 19458, 667216, 228326, 515295, 340666, 313369, 10330, 385687, 72190, 472674, 76757, 566451, 1106732, 676547, 81250, 765613, 1016121, 332567, 13597, 614939, 23023, 1114905, 293863, 126319, 1122493, 487297, 460668, 1018341, 13680, 482321, 610892, 114955, 631060, 411088, 399366, 360055, 552688, 1883, 964980, 314095, 850167, 1117698, 42723, 620705, 510550, 529209, 643215, 1111140, 539441, 168672, 955991, 710718, 440844, 804150, 844417, 813726, 555604, 676710, 514222, 9291, 544, 455476, 940417, 633929, 789602, 723419, 12184, 335795, 1085103, 447365, 526103, 10145, 1101799, 1103576, 997776, 1538, 5966, 893752, 420808, 593643, 10625, 768362, 646389, 152792, 645290, 796185, 868759, 1068141, 9276, 817758, 713704, 437586, 845659, 1063422, 1653, 448776, 192, 283235, 392629, 978406, 6947, 842945, 952021, 106493, 91314, 1110586, 758323, 932430, 493529, 216769, 15787, 948713, 854239, 603692, 869626, 849869, 726759, 66859, 736790, 649609, 11820, 785084, 3053, 808087, 1003579, 958196, 8373, 1858,
];

function displayRandomMovie() {
  const randomMovieId = movieIds[Math.floor(Math.random() * movieIds.length)];
  const apiUrl = `https://api.themoviedb.org/3/movie/${randomMovieId}?api_key=${apiKey}&language=pt-BR`;

  fetch(apiUrl)
    .then(response => response.json())
    .then(data => {
      const backdropPath = data.backdrop_path;
      const movieTitle = data.title;
      const movieOverview = data.overview;

      const movieBackdrop = document.getElementById("movie-backdrop");
      movieBackdrop.src = `https://image.tmdb.org/t/p/original/${backdropPath}`;

      movieBackdrop.addEventListener("click", () => {
        const iframeUrl = `https://embedder.net/e/${randomMovieId}`;
        window.open(`single-movie3.html?iframeUrl=${encodeURIComponent(iframeUrl)}`, "_blank");
      });

      const movieTitleElement = document.getElementById("movie-title");
      movieTitleElement.textContent = movieTitle;

      const movieOverviewElement = document.getElementById("movie-overview");
      movieOverviewElement.textContent = movieOverview;
    })
    .catch(error => {
      console.error(`Erro ao obter informações do filme ${randomMovieId}: ${error}`);
    });
}

displayRandomMovie();
